{{ 'section-productsgrid.css' | asset_url | stylesheet_tag }}

<script src="{{ 'section-productsgrid.js' | asset_url }}" defer="defer"></script>

<div class="page-width page-width--narrow">
  <h1 class="main-page-title page-title h0">
    {{ section.settings.collection.title | escape }}
  </h1>
  <div class="rte">
    <div class="row">
        {% for product in section.settings.collection.products %}
            <div class="col-md-3 col-xs-12 myproduct">
                <div class="myproduct__image">
                    <a href="{{product.url}}?view=custom">
                        <img 
                            id="product-main-{{product.id}}"
                            style="max-height: 200px; height: auto;"
                            src="{{ product.media[0] | product_img_url: 'medium' }}"
                        >
                    </a>
                </div>
                <div class="myproduct__images">
                    {% for variant in product.variants %}
                        <div 
                            style="background-image: url({{ variant.image.src | product_img_url: 'small' }})" 
                            class="myproduct__box"
                            data-image="{{ variant.image.src | product_img_url: 'medium' }}"
                            data-product="{{product.id}}"
                            data-variant="{{variant.id}}"
                            data-price="{{variant.price | money}}"
                        >
                            &nbsp;
                        </div>
                    {% endfor %}
                </div>
                <div class="myproduct__info">
                    <b>{{ product.title }}</b>
                    <p id="product-price-{{product.id}}">{{ product.price | money }}</p>
                    <b>
                        Colores: 
                        {% for variant in product.variants %}
                            {{ variant.title }}
                        {% endfor %}
                    </b>
                    <br>
                    <a
                        href="#"
                        data-product="{{product.id}}"
                        data-variant="{{product.variants[0].id}}"
                        class="myproduct__btn"
                    >
                        Add to Cart
                    </a>
                </div>
            </div>
        {% endfor %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "t:sections.main-page.name",
  "tag": "section",
  "class": "spaced-section",
  "settings": [
    {
        "type": "collection",
        "id": "collection",
        "label": "Collection"
    }
    ]
}
{% endschema %}